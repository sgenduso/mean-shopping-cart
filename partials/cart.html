<div>
  <h2 class='table-left'> My Shopping Cart </h2>
  <h2 class="table-right"> Order Total: {{cart.orderTotal | currency}}</h2>
</div>

<table class='table table-bordered checkout'>
  <thead>
    <tr>
      <th>Product</th>
      <th>Quantity</th>
      <th>Subtotal</th>
    </tr>
  </thead>
  <tbody>
    <tr ng-repeat='record in cart.records'>
      <td>
        <h3>{{record.album}}, {{record.artist}}</h3>
        <img src={{record.imageUrl}} alt={{record.album}} class='checkout-pic'>
        <p><Strong>Released:</Strong> {{record.releaseYear}}</p>
        <p><Strong>Rating:</Strong> {{record.rating}}</p>
        <p><Strong>Band Members:</Strong> {{record.bandMembers}}</p>
        <p><Strong>Trending Scale:</Strong> {{record.trendingScale}}</p>
      </td>
      <td>
        <span ng-show='!show'>{{record.quantityInCart}}</span>
        <span ng-show='show'>
          <input type='number' min=1 max=10 id='edit-quantity' ng-model='newQuantity' ng-init='newQuantity={{record.quantityInCart}}'/>
        </span>
      </td>
      <td>
        {{record.quantityInCart * record.price | currency}}
      </td>
      <td>
        <!-- <form ng-submit='toggleEdit()'> -->
          <input type='submit' class='btn btn-warning' value='Edit' ng-model='record' ng-show='!show' ng-click='toggleEdit()'/>
          <input type='submit' class='btn btn-warning' value='Save' ng-model='record' ng-show='show' ng-click='toggleEdit(); saveQuantity(newQuantity)'/>
        <!-- </form> -->
        <!-- <form ng-submit='removeRecord()'> -->
          <input type='submit' class='btn btn-danger' value='Remove' ng-model='record' />
        <!-- </form> -->
      </td>
    </tr>
  </tbody>
</table>
<form ng-submit='placeOrder()' class='place-order'>
  <input type='submit' class='btn btn-success' value='Place Order' />
</form>
